<!-- <div id="main">
    <div class="vendors-content ">
        
    </div>
</div> -->
<div class="ui grid left-padded" id="main">
    <div class="eight wide column">
        <div class="row" id="search-bar">
            <div class="ui grid">
                <div class="five wide column ui input">
                    <input
                    places-auto-complete
                    (initialized$)="initialized($event)"
                    (place_changed)="placeChanged(place)"
                    [types]="['geocode']"
                        type="text" 
                        name="location" 
                        placeholder="LOCATION" 
                        [(ngModel)]="city">
                </div>
                <div class="five wide column ui input">
                    <input type="text" name="name" placeholder="NAME" [(ngModel)]="name">
                </div>
                <div class="six wide column search-btn-div">
                        <a class="ui button book-btn" [ngClass]="{'loading': searchLoading}" (click)="search()">SEARCH</a>
                        <button class="ui button" (click)="reset()">RESET</button>
                    <!-- <a class="ui button fluid book-btn" [ngClass]="{'loading': searchLoading}" (click)="search()">SEARCH</a> -->
                </div>
            </div>
        </div>
        <div class="ui segment ui grid" *ngFor="let performer of getPerformersPage()">
            <div class="row">
                <div class="four wide column">                    
                        <img class="ui small fluid image" src="{{performer.Avatar}}">                   
                </div>
                <div class="eight wide column main-info">
                    <p><b>{{performer.Name}}</b><span class="per-type">&nbsp;{{performer.PerformerType}}</span>
                        <sui-rating class="star" [isReadonly]="true" [ngModel]="performer.Rating"></sui-rating>
                    </p>
                    <div class="desc-div">
                        <p class="desc">{{performer.Description}}</p>
                    </div>
                    <p class="location" (click)="select(performer.Name, performer.Location)">
                        <i class="colored map pin icon"></i>{{performer.Location.City}}, {{performer.Location.Adress}}
                    </p>
                    <p class="reviews">
                        <a routerLink="/{{performer.Link}}" [queryParams]="{tab: reviewsTab}">Reviews({{performer.ReviewsCount}})</a>
                    </p>
                </div>
                <div class="four wide column book-div">
                    <a routerLink="/{{performer.Link}}" class="ui active secondary button">Details</a>
                </div>
            </div>
        </div>
        <div *ngIf="performers.length > pageSize" class="flex-centered" id="paging">
            <sui-pagination 
                [collectionSize]="performers.length" 
                [pageSize]="pageSize" 
                [maxSize]="maxSize" 
                [hasEllipses]="hasEllipses" 
                [(page)]="selectedPage">
            </sui-pagination>
        </div>
    </div>
    <div class="eight wide column">
        <div class="row">
            <div class="map-container">
                <ngui-map (mapReady$)="onMapReady($event)" class="map" zoom="6" [center]="center" *ngIf="loaded">
                    <custom-marker *ngFor="let per of getPerformersPage()" 
                        [position]="[per.Location.Latitude, per.Location.Longitude]">
                        <span class="map-marker" [ngClass]="{'active-marker': selected == per.Name}">
                            <a routerLink="/{{per.Link}}">{{per.Name}}</a>
                        </span>
                    </custom-marker>
                </ngui-map>
            </div>
        </div>
    </div>
</div>